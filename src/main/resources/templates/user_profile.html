<html layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml">
<div layout:fragment="content" class="container my-3">

  <h4 class="my-3 border-bottom pb-2"
      th:text="|${user.username} 님의 프로필 수정|"></h4>


  <form th:action="@{/user/modify}"
        th:object="${user}" method="post">

    <div th:replace="~{form_errors :: formErrorsFragment}"></div>

    <div class="mb-3">
      <label for="username" class="form-label">사용자 ID</label>
      <input type="text" th:field="*{username}" class="form-control">
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">이메일</label>
      <input type="email" th:field="*{email}" class="form-control">
    </div>

    <button type="submit" class="btn btn-primary">프로필 수정</button>
  </form>

  <br>

  <h4>내가 쓴 글</h4>

  <br>

  <table class="table">

    <thead class="table-dark">
    <tr>
      <th>번호</th>
      <th style="width:50%">제목</th>
      <th>글쓴이</th>
      <th>작성일시</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="question, loop : ${paging}">
      <td th:text="${paging.getTotalElements - (paging.number * paging.size) - loop.index}"></td>

      <!--        질문 상세 시작 -->
      <td>
        <a th:href="@{|/question/detail/${question.id}|}"
           th:text="${question.subject}"></a>

        <span class="text-danger small ms-2"
              th:if="${#lists.size(question.answerList) > 0}"
              th:text="${#lists.size((question.answerList))}">
                </span>
      </td>

      <td>
                <span th:if="${question.author != null}"
                      th:text="${question.author.username}"></span>
      </td>

      <td th:text="${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}"></td>
      <!--        질문 상세 종료 -->

    </tr>
    </tbody>
  </table>

</div>
</html>